% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Pipe.R
\name{anomalize2}
\alias{anomalize2}
\title{Detect anomalies in a data frame column using robust statistical methods}
\usage{
anomalize2(
  data,
  target,
  method = c("iqr", "gesd"),
  alpha = 0.05,
  max_anoms = 0.2,
  verbose = FALSE
)
}
\arguments{
\item{data}{A \code{data.frame} or \code{tibble}. Input dataset containing a numeric column to be analyzed.}

\item{target}{Unquoted column name. Target column to apply anomaly detection to.}

\item{method}{A character. Outlier detection method. One of \code{"iqr"} or \code{"gesd"}.}

\item{alpha}{A numeric (default: 0.05). Significance level used in the detection threshold.}

\item{max_anoms}{A numeric between 0 and 1 (default: 0.2). Maximum fraction of data points allowed to be anomalous.}

\item{verbose}{Logical (default: \code{FALSE}). If \code{TRUE}, returns a list including detailed results.}
}
\value{
If \code{verbose = FALSE}, returns the input data frame with:
\describe{
  \item{\code{<target>_l1}}{Lower bound of anomaly detection range.}
  \item{\code{<target>_l2}}{Upper bound of anomaly detection range.}
  \item{\code{anomaly}}{Binary indicator: 1 for anomaly, 0 otherwise.}
}

If \code{verbose = TRUE}, returns a list with:
\describe{
  \item{\code{anomalized_tbl}}{Augmented data frame as described above.}
  \item{\code{anomaly_details}}{Full output from \code{iqr2()} or \code{gesd2()}.}
}
}
\description{
Applies outlier detection to a specified column of a data frame using either
the IQR-based or robust GESD-based method. Returns the original data frame
augmented with anomaly indicators and detection thresholds.
}
\details{
This function is adapted from \pkg{anomalize}â€™s \code{anomalize()} and internally uses
custom implementations \code{iqr2()} and \code{gesd2()} for robust outlier detection.

Unlike the original version, this implementation:
\itemize{
  \item Returns binary flags (\code{0} or \code{1}) for anomalies instead of \code{"Yes"/"No"} strings.
  \item Is implemented without pipe operators for simplicity and compatibility.
}

The two available methods are:
\itemize{
  \item \strong{IQR}: Anomaly detection based on interquartile range thresholds.
  \item \strong{GESD}: Generalized Extreme Studentized Deviate test with robust statistics (median, MAD).
}
}
\references{
Adapted from \code{anomalize::anomalize()}:
\url{https://business-science.github.io/anomalize/reference/anomalize.html}
}
\seealso{
\code{\link[anomalize]{anomalize}},
  \code{\link[anomalize]{iqr}},
  \code{\link[anomalize]{gesd}}
}
