% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Pipe.R
\name{adjust_proc}
\alias{adjust_proc}
\title{Adjust anomaly detection results for current batch}
\usage{
adjust_proc(proc, curr_batch, n_missed)
}
\arguments{
\item{proc}{A data frame returned from anomaly detection, including `GPS` and `cluster` columns.}

\item{curr_batch}{A `ts` object for the current batch, used to define time bounds.}

\item{n_missed}{A list indicating how many time points to include before the current batch
(e.g., `n_missed[["Mt"]]` due to moving average tail loss).}
}
\value{
A filtered and adjusted data frame with corrected cluster indices and time span.
}
\description{
Filters and shifts the anomaly detection results (`proc`) so that they align with the time window
of the current batch. Optionally includes some earlier values to compensate for tail-side loss
due to moving average smoothing.
}
\details{
Specifically:
- Crops `proc` to include only time values within the current batch range
  (optionally extended backward by `n_missed[["Mt"]]` points).
- If anomalies exist, shifts cluster labels to ensure they start from 1.
}
