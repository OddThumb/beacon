% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Pipe.R
\name{arch}
\alias{arch}
\title{Run full architecture: denoising, anomaly detection, and clustering}
\usage{
arch(ts, params)
}
\arguments{
\item{ts}{A time series (`ts`) object.}

\item{params}{A list containing configuration parameters. The following fields are supported:
\itemize{
  \item{\code{d_max}: Differencing order.}
  \item{\code{p_max}: AR order.}
  \item{\code{q_max}: MA order.}
  \item{\code{fl}, \code{fu}: Lower and upper cutoff frequencies for band-pass filter.}
  \item{\code{nmax}: Maximum number of anomalies to detect (default: 100).}
  \item{\code{scale}: IQR multiplier for outlier threshold (default: 1.5).}
  \item{\code{method}: Anomaly detection method; one of \code{"iqr"} or \code{"gesd"}.}
  \item{\code{decomp}: Optional time decomposition method; one of \code{"stl"}, \code{"twitter"}, or \code{NULL}.}
  \item{\code{eps}: Epsilon value for DBSCAN clustering.}
}}
}
\value{
A \code{tibble} containing:
  \itemize{
    \item{time, observed: Processed time and signal values.}
    \item{raw: Original (pre-denoising) signal.}
    \item{anomaly: Anomaly indicator (1 = anomalous, 0 = normal).}
    \item{cluster: DBSCAN cluster label (NA for non-anomalous points).}
    \item{GPS: GPS time stamps.}
  }
}
\description{
Applies the full analysis pipeline to a time series: denoising via \code{seqarima()},
anomaly detection via \code{anomaly()}, and clustering of anomalies via \code{run_dbscan()}.
}
\examples{
# Generate synthetic time series
fs <- 1024
t <- seq(0, 1, by = 1 / fs)
x <- sin(2 * pi * 60 * t) + rnorm(length(t), sd = 0.5)
ts_obj <- ts(x, start = t[1], frequency = fs)

# Get default parameter set
params <- config_pipe()

# Run full analysis architecture
result <- arch(ts_obj, params)
head(result)

}
