% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/OSC.R
\name{get_segment}
\alias{get_segment}
\title{Get files (strain-file metadata) optionally filtered by timeline duty-cycle}
\usage{
get_segment(
  obsrun,
  detector,
  GPSstart,
  GPSend = NULL,
  sampling.freq = 4096,
  dur = 4096,
  file.format = "hdf5",
  duty.cycle.lwr = NULL,
  require_full_coverage = TRUE,
  timeline_name = NULL,
  timeline_verbose = FALSE
)
}
\arguments{
\item{obsrun}{Character run id (e.g. "O1").}

\item{detector}{Character vector of detectors.}

\item{GPSstart}{Integer start GPS.}

\item{GPSend}{Integer stop GPS. If omitted, defaults to GPSstart + dur.}

\item{sampling.freq}{Integer (default 4096).}

\item{dur}{Integer (default 4096).}

\item{file.format}{Character (default "hdf5").}

\item{duty.cycle.lwr}{Numeric or NULL. If NULL (default) no duty filtering is applied.}

\item{require_full_coverage}{Logical passed to filter_files_by_dutycycle.}

\item{timeline_name}{Optional timeline name (single string) or NULL; if NULL a sensible default paste0(det, "_DATA") is used per detector.}

\item{timeline_verbose}{Logical for timeline debug.}
}
\value{
data.frame of file metadata (filtered if duty.cycle.lwr provided).
}
\description{
High-level helper that retrieves file metadata (get_filemeta()) and, only
when duty.cycle.lwr is provided (non-NULL), applies timeline-based
duty-cycle filtering using get_timeline() and filter_files_by_dutycycle().
}
\examples{
\dontrun{
# No duty filtering:
files <- get_segment("O1", c("H1", "L1"), 1126051217, 1126051217 + 86400)

# With duty filtering (95\%): timeline default is "<DET>_DATA"
good <- get_segment("O1", c("H1", "L1"), 1126051217, 1126051217 + 86400,
    duty.cycle.lwr = 95
)
}
}
