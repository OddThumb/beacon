% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Pipe.R
\name{run_dbscan}
\alias{run_dbscan}
\title{Run DBSCAN clustering on detected anomalies}
\usage{
run_dbscan(
  anom.df,
  time_col = "GPS",
  val_col = "observed",
  eps = 0.01,
  minPts = 1,
  cluster.col = "cluster",
  ...
)
}
\arguments{
\item{anom.df}{A \code{data.frame} or \code{tibble} containing anomaly detection results,
including at least columns for time, observed value, and a binary \code{anomaly} flag.}

\item{time_col}{A character string. Name of the time column (default: \code{"GPS"}).}

\item{val_col}{A character string. Name of the observed value column (default: \code{"observed"}).}

\item{eps}{A numeric. Maximum neighborhood radius for DBSCAN (default: \code{0.01}).}

\item{minPts}{An integer. Minimum number of points to form a cluster (default: \code{1}).}

\item{cluster.col}{A character string. Column name for cluster ID assignment (default: \code{"cluster"}).}

\item{...}{Additional arguments passed to \code{dbscan::dbscan()}.}
}
\value{
A modified version of \code{anom.df} with a new \code{cluster.col} column indicating cluster membership.
  Anomalies not assigned to any cluster will receive a value of 0. Non-anomalous points will be assigned \code{NA}.
}
\description{
Applies DBSCAN clustering to anomalous points based on time and observed value.
}
\details{
Only rows where \code{anomaly == 1L} are included in the clustering.
Clustering is performed on a 2D space defined by the specified time and value columns.
}
\examples{
df <- tibble::tibble(
    GPS = seq(0, 1, length.out = 100),
    observed = sin(2 * pi * GPS * 5),
    anomaly = sample(0:1, 100, replace = TRUE)
)
run_dbscan(df, eps = 0.02)

}
